from aiogram import Router, types, Ffrom aiogram.filters.state import StateFilterfrom aiogram.fsm.context import FSMContextfrom app.utils.callback_data import MainMenuCallbackData, MainMenuAction, ChooseLanguageAction, ChooseLanguageCallbackDatafrom app.utils.states import DetectStateGroupfrom app.keyboards.inline import inline_main_menurouter = Router()last_bot_message = None# @router.callback_query()# @router.callback_query(MainMenuCallbackData.filter())@router.callback_query(ChooseLanguageCallbackData.filter(F.action == ChooseLanguageAction.UZB))async def main_menu_handler(update: [types.CallbackQuery, types.Message], state: FSMContext):    global last_bot_message    if isinstance(update, types.CallbackQuery):        callback_query = update        if last_bot_message:            await last_bot_message.delete()        last_bot_message = await callback_query.message.answer(            f"Asosiy Menu",            reply_markup=inline_main_menu())        await state.set_state(DetectStateGroup.main_menu)        # await state.get_state()## @router.message(StateFilter(DetectStateGroup.model_name))@router.callback_query(MainMenuCallbackData.filter(F.action == MainMenuAction.NEW_DETECT))async def new_detect_handler(update: types.Message, state: FSMContext):    global last_bot_message    if last_bot_message:        try:            await last_bot_message.delete()        except Exception as e:            print(f"Xabarni o'chirishda xato: {e}")    last_bot_message = await update.message.answer("Qidirayotgan Model nomini yozing!")    await state.set_state(DetectStateGroup.model_name)@router.message(StateFilter(DetectStateGroup.model_name))async def detect_model_name_handler(message: types.Message, state: FSMContext):    model_name = message.text    print(model_name)    await state.update_data(model_name=model_name)    await message.answer(f"Siz qidirayotgan model: {model_name}. Keyingi bosqichga o'tamiz.")    # await state.clear()